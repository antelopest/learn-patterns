# Factory Method (Фабричный метод)

Фабричный метод (Factory Method) — это порождающий паттерн, который позволяет создавать объекты, не указывая точный
класс создаваемого объекта.

Он делегирует создание объектов дочерним классам.

## Пример на JavaScript

Представим, что у нас есть разные виды уведомлений: Email и SMS.

Вместо того чтобы в коде вручную создавать объекты через `new`, мы используем фабричный метод.

```js
// Базовый класс
class Notification {
    send(message) {
        throw New
        Error('Method send() must be implemented');
    }
};

class EmailNotification extends Notification {
    send(message) {
        console.log(`Sending Email: ${message}`);
    }
};

class SMSNotification extends Notification {
    send(message) {
        console.log(`Sending SMS: ${message}`);
    }
};

// Factory
class NotificationFactory {
    static createNotification(type) {
        switch (type) {
            case 'email':
                return new EmailNotification();
            case 'sms':
                return new SMSNotification();
            default:
                throw new Error('Unknown notification type');
        }
    }
}

const email = NotificationFactory.createNotification('email');
email.send('Welcome to the site');

const sms = NotificationFactory.createNotification('sms');
sms.send('Your code is: 123456');
```

## Пример на TypeScript

TypeScript позволяет строго типизировать продукты и фабрику.

```ts
interface Notification {
    send(message: string): void;
}

class EmailNotification implements Notification {
    send(message: string): void {
        console.log(`Sending Email: ${message}`);
    }
}

class SMSNotification implements Notification {
    send(message: string): void {
        console.log(`Sending SMS: ${message}`);
    }
}

class NotificationFactory {
    static createNotification(type: "email" | "sms"): Notification {
        switch (type) {
            case "email":
                return new EmailNotification();
            case "sms":
                return new SMSNotification();
        }
    }
}

const email = NotificationFactory.createNotification("email");
email.send("Welcome to the site");

const sms = NotificationFactory.createNotification("sms");
sms.send("Your code is: 123456");
```

## Где применять?

* Когда заранее неизвестно, какие конкретные классы нужно создавать
* Когда нужно инкапсулировать логику выбора объекта
* Когда объект зависит от внешних условий (конфигурации, окружения)